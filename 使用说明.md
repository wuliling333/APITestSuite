# é¡¹ç›®ç”Ÿæˆå™¨ä½¿ç”¨è¯´æ˜

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä¸€é”®ç”ŸæˆAPIæµ‹è¯•é¡¹ç›®

```bash
python3 create_project.py <é¡¹ç›®åç§°> <Gitä»“åº“åœ°å€> [åˆ†æ”¯å]
```

### ç¤ºä¾‹

```bash
# åˆ›å»ºåä¸º MyAPITest çš„é¡¹ç›®
python3 create_project.py MyAPITest https://git.17zjh.com/wegame/jinn_server.git v0.1.0

# ä½¿ç”¨é»˜è®¤åˆ†æ”¯ï¼ˆmainï¼‰
python3 create_project.py MyAPITest https://git.17zjh.com/wegame/jinn_server.git
```

## ğŸ“ ç”Ÿæˆçš„é¡¹ç›®ç»“æ„

```
MyAPITest/
â”œâ”€â”€ config.yaml              # é…ç½®æ–‡ä»¶ï¼ˆå·²è‡ªåŠ¨é…ç½®Gitä»“åº“ä¿¡æ¯ï¼‰
â”œâ”€â”€ main.py                  # ä¸»å…¥å£æ–‡ä»¶
â”œâ”€â”€ requirements.txt         # Pythonä¾èµ–
â”œâ”€â”€ README.md               # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ .gitignore              # Gitå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ framework/              # æ¡†æ¶æ ¸å¿ƒæ¨¡å—ï¼ˆå·²å¤åˆ¶ï¼‰
â”‚   â”œâ”€â”€ config.py
â”‚   â”œâ”€â”€ git_updater.py
â”‚   â”œâ”€â”€ protobuf_parser.py
â”‚   â”œâ”€â”€ client.py
â”‚   â”œâ”€â”€ test_generator.py
â”‚   â”œâ”€â”€ test_runner.py
â”‚   â””â”€â”€ report_generator.py
â”œâ”€â”€ test_cases/             # æµ‹è¯•ç”¨ä¾‹ç›®å½•
â”‚   â””â”€â”€ example/
â”‚       â””â”€â”€ test_example.yaml
â”œâ”€â”€ generated_tests/        # ç”Ÿæˆçš„æµ‹è¯•ä»£ç ï¼ˆè¿è¡Œåç”Ÿæˆï¼‰
â”œâ”€â”€ reports/                # æµ‹è¯•æŠ¥å‘Šï¼ˆè¿è¡Œåç”Ÿæˆï¼‰
â””â”€â”€ jinn_server/            # æœåŠ¡å™¨ä»£ç ä»“åº“ï¼ˆè¿è¡Œåè‡ªåŠ¨æ‹‰å–ï¼‰
```

## ğŸ”§ ä½¿ç”¨æ­¥éª¤

### 1. ç”Ÿæˆé¡¹ç›®

```bash
python3 create_project.py MyAPITest https://git.example.com/repo.git v0.1.0
```

### 2. è¿›å…¥é¡¹ç›®ç›®å½•

```bash
cd MyAPITest
```

### 3. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 4. é…ç½®æœåŠ¡å™¨åœ°å€

ç¼–è¾‘ `config.yaml`ï¼Œä¿®æ”¹æœåŠ¡å™¨åœ°å€ï¼š

```yaml
servers:
  gate:
    address: "47.84.190.150:29205"  # ä¿®æ”¹ä¸ºå®é™…åœ°å€
  login:
    url: "http://47.84.190.150:29002"  # ä¿®æ”¹ä¸ºå®é™…åœ°å€

services:
  hall:
    proto_path: "jinn_server/config/proto_jinn/client"
  # æ·»åŠ å…¶ä»–æœåŠ¡...
```

### 5. æ·»åŠ æµ‹è¯•ç”¨ä¾‹

åœ¨ `test_cases/` ç›®å½•ä¸‹åˆ›å»ºYAMLæ–‡ä»¶ï¼Œä¾‹å¦‚ `test_cases/hall/test_hall.yaml`:

```yaml
test_cases:
  FetchSelfFullUserInfo:
    description: "è·å–è‡ªå·±çš„å®Œæ•´ç”¨æˆ·ä¿¡æ¯"
    request: {}
  UpdateNickname:
    description: "æ›´æ–°æ˜µç§°"
    request:
      nickname: "TestNickname_123"
```

### 6. è¿è¡Œæµ‹è¯•

```bash
# é¦–æ¬¡è¿è¡Œï¼ˆä¼šè‡ªåŠ¨æ‹‰å–Gitä»£ç ï¼‰
python3 main.py --run

# è·³è¿‡Gitæ£€æŸ¥ï¼ˆå¦‚æœä»£ç å·²æ˜¯æœ€æ–°ï¼‰
python3 main.py --run --skip-git-check
```

## ğŸ“‹ é…ç½®æ–‡ä»¶è¯´æ˜

ç”Ÿæˆçš„ `config.yaml` å·²åŒ…å«Gitä»“åº“ä¿¡æ¯ï¼Œä½ åªéœ€è¦ï¼š

1. **ä¿®æ”¹æœåŠ¡å™¨åœ°å€**ï¼šæ ¹æ®å®é™…æœåŠ¡å™¨åœ°å€ä¿®æ”¹ `servers` éƒ¨åˆ†
2. **æ·»åŠ æœåŠ¡é…ç½®**ï¼šåœ¨ `services` éƒ¨åˆ†æ·»åŠ éœ€è¦æµ‹è¯•çš„æœåŠ¡åŠå…¶protoè·¯å¾„
3. **è°ƒæ•´è¶…æ—¶æ—¶é—´**ï¼šæ ¹æ®éœ€è¦ä¿®æ”¹ `test.timeout`

## ğŸ¯ å®Œæ•´å·¥ä½œæµç¨‹

```
1. ç”Ÿæˆé¡¹ç›®
   â†“
2. é…ç½®æœåŠ¡å™¨åœ°å€å’Œprotoè·¯å¾„
   â†“
3. æ·»åŠ æµ‹è¯•ç”¨ä¾‹ï¼ˆYAMLæ ¼å¼ï¼‰
   â†“
4. è¿è¡Œæµ‹è¯•ï¼ˆè‡ªåŠ¨æ‹‰å–ä»£ç ã€è§£ææ¥å£ã€ç”Ÿæˆæµ‹è¯•ã€æ‰§è¡Œæµ‹è¯•ã€ç”ŸæˆæŠ¥å‘Šï¼‰
   â†“
5. æŸ¥çœ‹æŠ¥å‘Šï¼ˆHTMLå’ŒExcelï¼‰
```

## ğŸ’¡ æç¤º

- é¡¹ç›®ç”Ÿæˆå™¨ä¼šè‡ªåŠ¨å¤åˆ¶æ‰€æœ‰æ¡†æ¶æ–‡ä»¶ï¼Œæ— éœ€æ‰‹åŠ¨å¤åˆ¶
- Gitä»“åº“ä¼šåœ¨é¦–æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨æ‹‰å–
- æµ‹è¯•ç”¨ä¾‹å¯ä»¥é€æ­¥æ·»åŠ ï¼Œä¸éœ€è¦ä¸€æ¬¡æ€§å†™å®Œ
- æŠ¥å‘Šä¼šè‡ªåŠ¨ä¿å­˜åœ¨ `reports/` ç›®å½•

